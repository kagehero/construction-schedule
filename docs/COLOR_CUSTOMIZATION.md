# 配色・UIカスタマイズについて

## 現在できること

### 班ごとの色（実装済み）
- **データ**: 各「作業班」（`work_lines`）に `color`（HEX）を保存しています。
- **表示**: 工程表の「班」列で、班名の横にその色のバーを表示しています。
- **管理者による変更**: **可能です。**
  - **案件立ち上げ**ページで、案件を新規登録・編集する際に、各作業班の横にある**カラーピッカー**で色を選択できます。
  - 新規追加時はデフォルトのパレットから順に割り当てられ、編集時に既存の班の色も変更・保存できます。

### 工程種別ごとの色（将来拡張用）
- **現状**: データモデルには「工程種別」はまだありません。班（work_line）単位で色を持っています。
- **将来的に可能にするには**:
  - `work_lines` に `work_type`（工程種別コード）や `work_type_id` を追加する。
  - 工程種別マスタ（例: 土木・電気・内装）とそのデフォルト色を持たせる。
  - 班は種別に紐づき、色は「種別のデフォルト」か「班ごとの上書き」で決まるようにする。
- こうした拡張をしても、**班ごとの色**はそのまま残せるため、「種別でデフォルト＋班で上書き」というルールにしやすい設計になっています。

### 配色ルールの将来変更
- **現状**: 色は「班ごと」の1種類のみで、アプリ内で固定のデフォルトパレット（7色）を使っています。
- **将来的に変えたい場合の例**:
  - デフォルトパレットを設定画面で編集する（色の追加・削除・並び替え）。
  - 工程種別を追加し、「種別ごとのデフォルト色」を管理者が変更できるようにする。
  - テンプレートやプロジェクトタイプごとに「使う色のセット」を切り替える。
- **拡張しやすいポイント**:
  - 色はすべて DB の `work_lines.color` や将来的な「種別マスタ」に持たせられる。
  - フロントでは `WorkLine.color` をそのまま表示しているだけなので、色の**出どころ**（班・種別・ルール）を後から変えても、表示ロジックの変更は最小限で済みます。

## まとめ

| 項目 | 可否 | 備考 |
|------|------|------|
| 班ごとの色 | ✅ 可能 | 案件立ち上げでカラーピッカーで変更可能 |
| 工程種別ごとの色 | 🔜 将来対応可 | 種別マスタを追加する拡張で対応可能 |
| 管理者が色を変えられる | ✅ 可能 | 班の色は管理者が自由に変更可能 |
| 将来的に配色ルールを変える | ✅ 可能 | データ設計が拡張しやすい |
